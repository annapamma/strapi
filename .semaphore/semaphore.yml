version: v1.0
name: Agent
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804


blocks:
  - name: "Set things up"
    task:
      jobs:
        - name: Compile
          commands:
            - checkout
            - yarn setup
            - yarn global add -g wait-on
  - name: "Unit tests"
    task:
      jobs:
        - name: Unit
          commands:
            - checkout
            - yarn run -s lint
            - yarn run -s test:unit
            - yarn run -s test:front
